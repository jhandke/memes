
import Foundation

class StandardDeck: Deck {
    private var playedImageIds: Set<Int> = []
    private var playedCardText: Set<String> = []

    func card(for player: Player, in game: Game) -> Card {
        return .text("TODO")
    }

    func meme(for judge: Player, in game: Game) -> Meme {
        var id: Int
        repeat {
            id = StandardDeck.memeIds.randomElement()!
        } while playedImageIds.contains(id)

        playedImageIds.formUnion([id])
        return Meme(judge: judge,
                    image: URL(string: "https://memegenerator.net/img/images/600x/\(id).jpg")!)
    }
}

extension StandardDeck {

    private static let memeIds: Set<Int> = [
        11438,
        13374,
        12485,
        12428,
        11811,
        12888,
        11751,
        11971,
        12147,
        13321,
        13491,
        10257,
        11149,
        13657,
        10038,
        12411,
        11099,
        12845,
        13336,
        13638,
        13252,
        13683,
        11750,
        10658,
        13365,
        13680,
        13611,
        12974,
        13654,
        12540,
        13152,
        13097,
        9981,
        11059,
        11509,
        10103,
        13220,
        11907,
        13397,
        10560,
        13237,
        13328,
        13682,
        11992,
        13556,
        13351,
        13595,
        10932,
        11151,
        12422,
        13477,
        11911,
        10208,
        10210,
        12859,
        12041,
        12218,
        10805,
        12009,
        9783,
        10809,
        10706,
        11810,
        12333,
        11657,
        10486,
        11884,
        11037,
        10090,
        9501,
        13195,
        13200,
        12988,
        11275,
        10684,
        13236,
        12989,
        13113,
        12475,
        13560,
        13675,
        12647,
        12798,
        12448,
        13230,
        11150,
        11763,
        12000,
        13448,
        10554,
        11836,
        11539,
        11783,
        10574,
        11710,
        9794,
        12433,
        11173,
        13469,
        12363,
        12209,
        13672,
        11478,
        13381,
        13075,
        11926,
        13258,
        10009,
        10235,
        12159,
        10553,
        12240,
        12319,
        10158,
        10843,
        11490,
        13493,
        13600,
        12094,
        12439,
        13148,
        13473,
        12055,
        13634,
        12429,
        10136,
        11090,
    ]

}
